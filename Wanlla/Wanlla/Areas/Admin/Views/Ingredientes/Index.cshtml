@model List<Modelo.ingrediente>
@{
    ViewBag.Title = "Ingredientes";
}

@using (Html.BeginForm("Index", "Ingredientes", FormMethod.Post, new { criterio = "frm-buscar" }))
{
    <div class="row">
        <div class="col-sm-5 text-left">
            @Html.TextBox("criterio", null, new { type = "text", @class = "form-control", placeholder = "Ingrese Nombre o Tipo de ingrediente" })
        </div>
        <div class="col-sm-3">
            <button type="submit" class="btn btn-default"><i class="fa fa-search"></i> Buscar</button>
        </div>
        <div class="col-sm-4 text-right">
            <a class="btn btn-info" href="~/Admin/Ingredientes/Mantenimiento/0" role="button"><i class="fa fa-plus"></i> Nuevo Ingrediente</a>
        </div>
    </div>
}

<br />

<div class="list-group" id="list"></div>

<script>
    $(document).ready(function () {
        $("#list").anexGrid({
            class: 'table-striped table-hover table-condensed',
            columnas: [
                //columna1: ID
                { leyenda: "#", columna: "id_ingrediente", ordenable: true },
                //columna1: Nombre
                { leyenda: "NOMBRE", columna: "nom_ingrediente", ordenable: true },
                //columna1: Estado
                { leyenda: "TIPO", columna: "tipo_ingrediente", ordenable: true },
                //Columnas de los botones
                { style: 'Width: 80px;' },//Visualizar
                { style: 'Width: 80px;' },//Modificar
                { style: 'Width: 80px;' },//Eliminar
            ],

            modelo: [
                //campo 1: IDTIPOUSUARIO
                { propiedad: 'id_ingrediente' },
                //campo 2: NOMBRE
                {
                    propiedad: 'nom_ingrediente'
                },
                //Campo 3: ESTADO
                {
                    propiedad: 'tipo_ingrediente'
                },

                //para los botones
                //Botón Visualizar
                {
                    formato: function (tr, obj, valor) {
                        return anexGrid_link({
                            href: '@Url.Content("~/Admin/Ingredientes/Ver/")' + obj.id_ingrediente,
                            contenido: '<i class="glyphicon glyphicon-eye-open" aria-hidden="true"></i>',
                            class: 'btn btn-lg btn-primary'
                        });
                    },
                },
                //Botón Modificar
                {
                    formato: function (tr, obj, valor) {
                        return anexGrid_link({
                            href: '@Url.Content("~/Admin/Ingredientes/Mantenimiento/")' + obj.id_ingrediente,
                            contenido: '<i class="glyphicon glyphicon-pencil" aria-hidden="true"></i>',
                            class: 'btn btn-lg btn-info'
                        });
                    },
                },
                //Botón Eliminar
                {
                    formato: function (tr, obj, valor) {
                        return anexGrid_link({
                            href: '@Url.Content("~/Admin/Ingredientes/Eliminar/")' + obj.id_ingrediente,
                            contenido: '<i class="glyphicon glyphicon-trash" aria-hidden="true"></i>',
                            class: 'btn btn-lg btn-danger',
                            attr: [
                            'onclick="return confirm(\'¿Está seguro de eliminar el registro?\')"'
                            ]
                        });
                    },
                }
            ],
            url: '@Url.Content("~/Admin/Ingredientes/CargarGrilla/")',
            paginable: true,
            limite: [10, 20, 50, 100],
            columna: 'id_ingrediente',
            columna_orden: "DESC"
        });
    })
</script>